/**
 * Created by tang.gaohang on 2016/10/13.
 */

/**
 * B-JUI: bjui-spinner.js  v1.2
 * @author K'naan (xknaan@163.com)
 * http://git.oschina.net/xknaan/B-JUI/blob/master/BJUI/js/bjui-spinner.js
 */
+function(a){"use strict";function c(c){var d=arguments,e=c;return this.each(function(){var f=a(this),g=a.extend({},b.DEFAULTS,f.data(),"object"==typeof c&&c),h=f.data("bjui.spinner");h||f.data("bjui.spinner",h=new b(this,g)),"string"==typeof e&&a.isFunction(h[e])?([].shift.apply(d),d?h[e].apply(h,d):h[e]()):h.init()})}var d,b=function(b,c){this.$element=a(b),this.options=c,this.tools=this.TOOLS(),this.$spinner=null,this.height=this.$element.addClass("form-control").innerHeight(),this.ivalue=Number(this.$element.val())||0};b.DEFAULTS={min:0,max:100,step:1,decimalPlace:0},b.EVENTS={afterChange:"afterchange.bjui.spinner"},b.prototype.TOOLS=function(){var a=this,c={changeVal:function(c){var d=a.$element,e=Number(d.val())||Number(a.ivalue),f=c.data("add")||-1,g=a.options.min,h=a.options.max,i=a.options.step;1==f?h-i>=e&&(e+=i):-1==f?e>=g+i&&(e-=i):e>h?e=h:g>e&&(e=g),a.options.decimalPlace&&(e=new String(e.toFixed(a.options.decimalPlace))),a.ivalue=e,d.val(e).trigger(b.EVENTS.afterChange,{value:e})}};return c},b.prototype.init=function(){return this.$element,this.options,isNaN(this.options.min)||isNaN(this.options.max)||isNaN(this.options.step)?(BJUI.debug("Spinner Plugin: Parameter is non-numeric type!"),void 0):(this.addBtn(),void 0)},b.prototype.addBtn=function(){var d,e,b=this,c=b.$element;this.$lookBtn||c.parent().hasClass("wrap_bjui_btn_box")||(this.$spinner=a(FRAG.spinnerBtn),c.css({paddingRight:"13px"}).wrap('<span class="wrap_bjui_btn_box"></span>'),d=c.parent(),d.css("position","relative"),this.$spinner.css({height:this.height}).appendTo(d),this.$spinner.on("selectstart",function(){return!1}),e=null,b.$spinner.find("li").on("click",function(){b.tools.changeVal(a(this))}).on("mousedown",function(){var c=a(this);e=setInterval(function(){b.tools.changeVal(c)},150)}).on("mouseup",function(){clearTimeout(e)}))},b.prototype.destroy=function(){this.$element.parent().hasClass("wrap_bjui_btn_box")&&(this.$element.parent().find(".bjui-spinner").remove(),this.$element.unwrap())},d=a.fn.spinner,a.fn.spinner=c,a.fn.spinner.Constructor=b,a.fn.spinner.noConflict=function(){return a.fn.spinner=d,this},a(document).on(BJUI.eventType.initUI,function(b){var d=a(b.target).find('input[data-toggle="spinner"]');d.length&&c.call(d)})}(jQuery);
/**
 * B-JUI: bjui-lookup.js  v1.2
 * @author K'naan (xknaan@163.com)
 * -- Modified from dwz.database.js (author:ZhangHuihua@msn.com)
 * http://git.oschina.net/xknaan/B-JUI/blob/master/BJUI/js/bjui-lookup.js
 */
+function(a){"use strict";function f(b){var c=arguments,d=b;return this.each(function(){var f=a(this),g=a.extend({},e.DEFAULTS,f.data(),"object"==typeof b&&b),h=f.data("bjui.lookup");h?f.data("newurl")&&(h.options.url=f.data("newurl"),f.data("bjui.dialog",null)):f.data("bjui.lookup",h=new e(this,g)),"string"==typeof d&&a.isFunction(h[d])?([].shift.apply(c),c?h[d].apply(h,c):h[d]()):h.init()})}var b,c,d,g,e=function(b,c){this.$element=a(b),this.options=c,this.$lookBtn=null};e.DEFAULTS={url:null,id:null,mask:!0,width:600,height:400,title:"Lookup",maxable:!0,resizable:!0},e.EVENTS={afterChange:"afterchange.bjui.lookup"},e.prototype.init=function(){var a=this,e=this.options;return this.tools,e.url?(e.url=decodeURI(e.url).replacePlh(a.$element.closest(".unitBox")),e.url.isFinishedTm()?(e.url=encodeURI(e.url),b=this.options.group||null,c=this.options.suffix||null,d=this.$element,c&&(c=c.trim()),this.open(a.$element),void 0):(a.$element.alertmsg("error",e.warn||FRAG.alertPlhMsg.replace("#plhmsg#",BJUI.regional.plhmsg)),BJUI.debug("Lookup Plugin: The lookup's url is incorrect, url:"+e.url),!1)):(BJUI.debug("Lookup Plugin: Error trying open a lookup dialog, url is undefined!"),!1)},e.prototype.addBtn=function(){var d,e,b=this,c=b.$element;this.$lookBtn||c.parent().hasClass("wrap_bjui_btn_box")||(this.$lookBtn=a(FRAG.lookupBtn),this.$element.css({paddingRight:"15px"}).wrap('<span class="wrap_bjui_btn_box"></span>'),d=this.$element.parent(),e=this.$element.addClass("form-control").innerHeight(),d.css({position:"relative",display:"inline-block"}),a.each(b.options,function(a,c){"toggle"!=a&&b.$lookBtn.data(a,c)}),this.$lookBtn.css({height:e,lineHeight:e+"px"}).appendTo(d),this.$lookBtn.on("selectstart",function(){return!1}))},e.prototype.open=function(a){var c=this.options;a.dialog({id:c.id||"lookup_dialog",url:c.url,title:c.title,width:c.width,height:c.height,mask:c.mask,maxable:c.maxable,resizable:c.resizable})},e.prototype.getField=function(a){return(b?b+".":"")+a+(c?c:"")},e.prototype.setSingle=function(a,b){"string"==typeof a&&(a=new Function("return "+a)()),this.setVal(a,b)},e.prototype.setMult=function(b,c){var d={},e=this.$element.closest(".unitBox");return e.find('[name="'+b+'"]').filter(":checked").each(function(){var c,e,b=new Function("return "+a(this).val())();for(c in b)e=d[c]?d[c]+",":"",d[c]=e+b[c]}),a.isEmptyObject(d)?(this.$element.alertmsg("error",this.$element.data("warn")||FRAG.alertSelectMsg),void 0):(this.setVal(d,c),void 0)},e.prototype.setVal=function(b,c){var h,f=this,g=d.closest(".unitBox");d.data("customEvent")?d.trigger("customEvent.bjui.lookup",[b]):g.find(":input").each(function(){var i,j,d=a(this),g=d.attr("name");for(i in b)if(j=f.getField(i),j==g){h=1==c?d.val()?d.val()+","+b[i]:b[i]:b[i],d.val(h).trigger(e.EVENTS.afterChange,{value:b[i]});break}}),this.$element.dialog("closeCurrent")},g=a.fn.lookup,a.fn.lookup=f,a.fn.lookup.Constructor=e,a.fn.lookup.noConflict=function(){return a.fn.lookup=g,this},a(document).on(BJUI.eventType.initUI,function(b){var c=a(b.target).find('[data-toggle="lookup"]');c.length&&f.call(c,"addBtn")}),a(document).on("click.bjui.lookup.data-api",'[data-toggle="lookupbtn"]',function(b){var c=a(this);c.attr("href")&&!c.data("url")&&c.attr("data-url",c.attr("href")),c.data("title")||c.attr("data-title",c.text()),f.call(c),b.preventDefault()}),a(document).on("click.bjui.lookupback.data-api",'[data-toggle="lookupback"]',function(b){var c=a(this),d=c.data("args"),e=c.data("lookupid"),g=a('input[name="lookupType"]:checked').val();d?f.call(c,"setSingle",d,g):e&&f.call(c,"setMult",e,g),b.preventDefault()})}(jQuery);
/**
 * B-JUI: bjui-tags.js  v1.2
 * @author K'naan (xknaan@163.com)
 * http://git.oschina.net/xknaan/B-JUI/blob/master/BJUI/js/bjui-tags.js
 */
+function(a){"use strict";function c(c){var d=arguments,e=c;return this.each(function(){var f=a(this),g=a.extend({},b.DEFAULTS,f.data(),"object"==typeof c&&c),h=f.data("bjui.tags");h||f.data("bjui.tags",h=new b(this,g)),"string"==typeof e&&a.isFunction(h[e])?([].shift.apply(d),d?h[e].apply(h,d):h[e]()):h.init()})}var d,b=function(b,c){this.$element=a(b).addClass("tag-input"),this.options=c,this.tools=this.TOOLS(),this.$box=a(this.$element.wrap('<div class="bjui-tags"></div>')).parent(),this.timeout=null,this.$tagsArr={},this.tags=[]};b.DEFAULTS={width:300,url:"",global:!1,type:"GET",tagname:"tag",max:0,clear:!1,lightCls:"tags-highlight"},b.EVENTS={afterCreated:"aftercreated.bjui.tags"},b.prototype.TOOLS=function(){var c=this,d=this.options,e={keyDown:function(a){return 13==a.which?!1:void 0},keyUp:function(b){var e,f,g,h,i,j,k,l,m,n;switch(b.which){case BJUI.keyCode.BACKSPACE:if(0==a.trim(c.$element.val()).length)return c.tools.removeMenu(),!1;break;case BJUI.keyCode.ESC:c.tools.removeMenu();break;case BJUI.keyCode.DOWN:if(!c.$menu||!c.$menu.length)return;return e=c.$menu.find("> ."+d.lightCls),f=c.$menu.find("> li:first-child"),e.length?(g=e.removeClass(d.lightCls).next(),g.length?g.addClass(d.lightCls):f.addClass(d.lightCls)):f.addClass(d.lightCls),!1;case BJUI.keyCode.UP:if(!c.$menu||!c.$menu.length)return;return e=c.$menu.find("> ."+d.lightCls),h=c.$menu.find("> li:last-child"),e.length?(i=e.removeClass(d.lightCls).prev(),i.length?i.addClass(d.lightCls):h.addClass(d.lightCls)):h.addClass(d.lightCls),!1;case BJUI.keyCode.ENTER:if(d.max>0&&c.$tagsArr.length>=d.max)return!1;if(j=!1,k=!1,l=null,m=c.$menu&&c.$menu.find("> ."+d.lightCls),m&&m.length)j=m.text(),l=m.data("item"),k=l.value;else{if(j=a.trim(c.$element.val()),!j.length)return!1;if(d.clear&&-1==a.inArray(j,c.tags))return c.$element.val(""),!1;k=j}if(!j)return;return n=!1,c.$tagsArr.length&&c.$tagsArr.each(function(){return a(this).val()==k?(n=!0,void 0):void 0}),n?(c.$element.val(""),!1):(c.tools.createTag(j,k),c.tools.removeMenu(),c.$element.val(""),a.proxy(c.tools.onAfterCreated(l,k),c),!1)}},query:function(){c.timeout&&clearTimeout(c.timeout),c.timeout=setTimeout(c.tools.doQuery,300)},doQuery:function(){var b,e,f,g,h;d.max>0&&c.$tagsArr.length>=d.max||(b=c.$element.val(),e=c.$box.find("> .tags-menu"),f=[],g=null,h=c.$element.closest(".navtab-panel").length?a.CurrentNavtab:a.CurrentDialog,c.$element.closest(".bjui-layout").length&&(h=c.$element.closest(".bjui-layout")),0!=b.length&&(c.$element.one("ajaxStart",function(){h.trigger("bjui.ajaxStart")}).one("ajaxStop",function(){h.trigger("bjui.ajaxStop")}),a.ajax({url:d.url,global:d.global,type:d.type,data:{term:b},dataType:"json",success:function(b){if(0!=b.length){e.length||(e=a('<ul class="tags-menu"></ul>')),e.empty().hide().appendTo(c.$box);for(var h=0;h<b.length;h++)g=a('<li class="tags-item">'+b[h].label+"</li>").data("item",b[h]),g.appendTo(e),f.push(b[h].label);c.tags=f,e.css({top:c.$element.position().top+c.$element.outerHeight(),left:c.$element.position().left}).fadeIn().find("> li").hover(function(){a(this).addClass(d.lightCls).siblings().removeClass(d.lightCls)},function(){a(this).removeClass(d.lightCls)}).click(function(){var b=a(this).text(),d=a(this).data("item"),f=d.value,g=!1;return c.$box.find("input:hidden").each(function(){return a(this).val()==f?(g=!0,void 0):void 0}),g?(c.$element.val(""),e.remove(),void 0):(a.proxy(c.tools.createTag(b,f),c),e.remove(),c.$element.val(""),a.proxy(c.tools.onAfterCreated(d,f),c),void 0)}),c.$menu=e}}})))},createTag:function(b,d){var f,e=a('<span class="label label-tag" data-value="'+d+'" style="margin-left: 1px; margin-top: 1px;"><i class="fa fa-tag"></i> '+b+'&nbsp;&nbsp;<a href="#" class="close">&times;</a></span>');e.insertBefore(c.$element).find("a.close").click(function(){var b=e.data("value");c.$box.find("input:hidden").each(function(){a(this).val()==b&&a(this).remove()}),e.remove(),c.$tagsArr=c.$box.find('input[name="'+c.options.tagname+'"]')}),f=a('<input type="hidden" name="'+c.options.tagname+'">').val(d),f.appendTo(c.$box),c.$tagsArr=c.$box.find('input[name="'+c.options.tagname+'"]')},removeMenu:function(){c.$menu&&c.$menu.remove()},onAfterCreated:function(d,e){var f=[];c.$tagsArr.length&&c.$tagsArr.each(function(){f.push(a(this).val())}),c.$element.trigger(b.EVENTS.afterCreated,{item:d,value:e,tags:f.join(",")})}};return e},b.prototype.init=function(){var b=this,c=this.$element,d=this.options;return d.url?(d.url=decodeURI(d.url).replacePlh(c.closest(".unitBox")),d.url.isFinishedTm()?(d.url=encodeURI(d.url),isNaN(this.options.max)?(BJUI.debug("Tags Plugin: Parameter 'max' is non-numeric type!"),void 0):(b.$box.width(d.width).on("click",function(){c.focus()}),c.on("keydown",a.proxy(this.tools.keyDown,this)).on("keyup",a.proxy(this.tools.keyUp,this)),a.support.leadingWhitespace?c.on("input",a.proxy(this.tools.query,this)):c.on("propertychange",a.proxy(this.tools.query,this)),a(document).on("click.bjui.tags",a.proxy(function(b){a(b.target).closest(this.$box).length||this.tools.removeMenu()},this)),void 0)):(c.alertmsg("error",d.warn||FRAG.alertPlhMsg.replace("#plhmsg#",BJUI.regional.plhmsg)),BJUI.debug("Tags Plugin: The query tags url is incorrect, url: "+d.url),void 0)):(BJUI.debug("Tags Plugin: Do query tags, url is undefined!"),void 0)},b.prototype.destroy=function(){this.$tags&&(this.$element.upwrap(),$tags.remove())},d=a.fn.tags,a.fn.tags=c,a.fn.tags.Constructor=b,a.fn.tags.noConflict=function(){return a.fn.tags=d,this},a(document).on(BJUI.eventType.initUI,function(b){var d=a(b.target).find('input[data-toggle="tags"]');d.length&&c.call(d)})}(jQuery);
/**
 * B-JUI: bjui-upload.js  v1.2
 * @author K'naan (xknaan@163.com)
 * -- Modified from Huploadify 2.0 (author:吕大豹)
 * http://git.oschina.net/xknaan/B-JUI/blob/master/BJUI/js/bjui-upload.js
 */
+function(a){"use strict";function c(c){var d=arguments,e=c;return window.FileReader?this.each(function(){var f=a(this),g=a.extend({},b.DEFAULTS,f.data(),"object"==typeof c&&c),h=f.data("bjui.upload");h||f.data("bjui.upload",h=new b(this,g)),"string"==typeof e&&a.isFunction(h[e])?([].shift.apply(d),d?h[e].apply(h,d):h[e]()):h.init()}):(this.each(function(){var b,c,d,e,f;if(a.fn.uploadify){if(b={swf:BJUI.PLUGINPATH+"uploadify/scripts/uploadify.swf",fileTypeExts:"*.jpg;*.png",id:"fileInput",fileObjName:"file",fileSizeLimit:204800,buttonText:"选择上传文件",auto:!1,multi:!1,height:24},c=a(this),d=c.data(),d.id||(d.id=c.attr("id")),a.extend(b,d),!b.uploader)return BJUI.debug("Upload Plugin: The options uploader is undefined!"),void 0;if(b.uploader=decodeURI(b.uploader).replacePlh(c.closest(".unitBox")),!b.uploader.isFinishedTm())return c.alertmsg("error",b.warn||FRAG.alertPlhMsg.replace("#plhmsg#",BJUI.regional.plhmsg)),BJUI.debug("Upload Plugin: The options uploader is incorrect: "+b.uploader),void 0;b.uploader=encodeURI(b.uploader),"fileInput"==b.id&&(b.id=b.id+(new Date).getTime()),e=a('<input type="file" name="'+b.name+'" id="'+b.id+'">'),b.onInit&&"string"==typeof b.onInit&&(b.onInit=b.onInit.toFunc()),b.onCancel&&"string"==typeof b.onCancel&&(b.onCancel=b.onCancel.toFunc()),b.onSelect&&"string"==typeof b.onSelect&&(b.onSelect=b.onSelect.toFunc()),b.onUploadSuccess&&"string"==typeof b.onUploadSuccess&&(b.onUploadSuccess=b.onUploadSuccess.toFunc()),b.onUploadComplete&&"string"==typeof b.onUploadComplete&&(b.onUploadComplete=b.onUploadComplete.toFunc()),b.onUploadError&&"string"==typeof b.onUploadError&&(b.onUploadError=b.onUploadError.toFunc()),e.appendTo(c),b.auto||(f=a('<button class="btn btn-orange" data-icon="cloud-upload">开始上传</button>'),f.hide().insertAfter(c).click(function(){e.uploadify("upload","*"),a(this).hide()}),b.onSelect=function(){f.show()}),e.uploadify(b)}}),void 0)}var d,b=function(b,c){this.$element=a(b),this.options=c,this.tools=this.TOOLS()};b.DEFAULTS={fileTypeExts:"*.jpg;*.png",uploader:"",auto:!1,method:"POST",multi:!1,formData:{},fileObjName:"file",fileSizeLimit:204800,previewImg:!0,previewLoadimg:null,dragDrop:!1,showUploadedPercent:!0,showUploadedSize:!0,buttonText:"选择上传文件",removeTimeout:1e3,itemTemplate:FRAG.uploadTemp,breakPoints:!1,fileSplitSize:1048576,onUploadStart:null,onUploadSuccess:null,onUploadComplete:null,onUploadError:null,onInit:null,onCancel:null,onSelect:null},b.MIMETYPES={zip:["application/x-zip-compressed"],jpg:["image/jpeg"],png:["image/png"],gif:["image/gif"],swf:["application/x-shockwave-flash"],doc:["application/msword"],xls:["application/vnd.ms-excel"],docx:["application/vnd.openxmlformats-officedocument.wordprocessingml.document"],xlsx:["application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],ppt:["application/vnd.ms-powerpoint"],pptx:["application/vnd.openxmlformats-officedocument.presentationml.presentation"],mp3:["audio/mpeg"],mp4:["video/mp4"],pdf:["application/pdf"],txt:["text/plain"],xml:["text/xml"]},b.prototype.TOOLS=function(){var c=this,d=this.options,e={formatFileSize:function(a,b){return a=a>1048576&&!b?(Math.round(100*a/1048576)/100).toString()+"MB":(Math.round(100*a/1024)/100).toString()+"KB"},getFile:function(a,b){for(var c=0;c<b.length;c++)if(b[c].index==a)return b[c];return!1},getFileTypes:function(a){var d,b=[],c=a.split(";");for(d=0;d<c.length;d++)b.push(c[d].split(".").pop());return b},getMimetype:function(a){return b.MIMETYPES[a]},getAcceptString:function(a){var d,e,b=this.getFileTypes(a),c=[];for(d=0;d<b.length;d++)e=this.getMimetype(b[d]),e?c.push(e):c.push("."+b[d]);return c.join(",")},filter:function(b){var g,h,e=[],f=this.getFileTypes(d.fileTypeExts);if(f.length>0)for(g=0;g<b.length;g++)h=b[g],parseInt(this.formatFileSize(h.size,!0))>d.fileSizeLimit?c.$element.alertmsg("error",'文件"'+h.name+'"大小超出限制！'):a.inArray(h.name.split(".").pop().toLowerCase(),f)>=0?e.push(h):c.$element.alertmsg("error",'文件"'+h.name+'"类型不允许！');return e},getFiles:function(a){var d,b=a.target.files||a.dataTransfer.files;for(b=this.filter(b),d=0;d<b.length;d++)b[d].id=b[d].lastModifiedDate.getTime()+"_"+b[d].size+"_"+(b[d].type||"").replace(/\W/g,""),this.renderQueueItem(b[d]),c.queueData.files++;return b},renderQueueItem:function(b){var g,h,e=0,f=a(d.itemTemplate.replace("{fileId}",b.id).replace("{fileName}",b.name).replace("#upConfirm#",BJUI.regional.upload.upConfirm).replace("#upPause#",BJUI.regional.upload.upPause).replace("#upCancel#",BJUI.regional.upload.upCancel).replace("{percent}","0.00%").replace("{uploadedSize}","0KB").replace("{fileSize}",this.formatFileSize(b.size)));d.auto&&f.find("> .info > .up_confirm").remove(),f.data("upfile",b),c.$uploadFileList.append(f),d.breakPoints&&(e=this.getUploadedSize(b.id),e>b.size&&(e=b.size)),this.showProgress(b.id,e,b.size),d.previewImg&&-1!=b.type.indexOf("image")?(g=f.find("> .preview > .img"),d.previewLoadimg&&g.html('<img src="'+d.previewLoadimg+'" height="114">'),this.previewImg(b,g)):f.find("> .preview").remove(),d.showUploadedSize?(h=f.find("> .filesize"),h.find("> .uploadedsize").html(this.formatFileSize(e)),h.find("> .filesize").html(this.formatFileSize(b.size))):f.find("> .filesize").remove(),d.showUploadedPercent?f.find("> .percent").html((100*(e/b.size)).toFixed(2)+"%"):f.find("> .percent").remove(),d.onSelect&&d.onSelect(files),d.auto&&c.fileUpload(b,e),f.on("click.bjui.upload.confirm",".up_confirm",function(){var d=a(this),f=d.closest(".item");d.hide().next().show(),c.fileUpload(f.data("upfile"),e)}),f.on("click.bjui.upload.cancel",".up_cancel",this.removeQueueItem)},successQueueItem:function(b,f){e.showProgress(b.id,b.size,b.size),d.onUploadSuccess&&d.onUploadSuccess.toFunc().call(c,b,f.responseText,c.$element),setTimeout(function(){c.$element.find("#"+b.id).fadeOut("normal",function(){a(this).remove();var b=c.$element.find("> .queue > .item:visible").length;0==b&&(c.$element.find("> .queue").hide(),c.$file.val(""))})},d.removeTimeout)},removeQueueItem:function(b,d){d&&d.abort(),a(this).closest(".item").fadeOut("normal",function(){a(this).remove();var b=c.$element.find("> .queue > .item:visible").length;0==b&&c.$element.find("> .queue").hide()}),b.preventDefault()},previewImg:function(a,b){if(a&&b.length){var c=new FileReader;c.onload=function(a){b.html('<img src="'+a.target.result+'">')},c.readAsDataURL(a)}},showProgress:function(a,b,d){var e=100*(b/d)+"%";c.tools.formatFileSize(b),(100*(b/d)).toFixed(2)+"%",c.$element.find("#"+a+" > .progress > .bar").css("width",e)},getUploadedSize:function(a){return 1*localStorage.getItem(a)},saveUploadedSize:function(a,b){localStorage.setItem(a,b)},sendBlob:function(a,b,c,e){var g,f=new FormData;if(b.open(d.method,a,!0),b.setRequestHeader("X-Requested-With","XMLHttpRequest"),f.append(d.fileObjName,c),e)for(g in e)f.append(g,e[g]);b.send(f)}};return e},b.prototype.init=function(){var e,b=this,c=this.$element,d=this.options;return d.uploader?(d.uploader=decodeURI(d.uploader).replacePlh(c.closest(".unitBox")),d.uploader.isFinishedTm()?(d.uploader=encodeURI(d.uploader),c.hasClass("bjui-upload")||(e=a(FRAG.uploadFrag.replaceAll("#multi#",d.multi?"multiple":"").replaceAll("#accept#",b.tools.getAcceptString(d.fileTypeExts)).replaceAll("#btnTxt#",(d.icon?'<i class="fa fa-'+d.icon+'">&nbsp;&nbsp;':"")+d.buttonText)),c.addClass("bjui-upload").append(e),this.$file=c.find("> .bjui-upload-select-file"),this.$uploadFileList=c.find("> .queue"),this.queueData={files:0,success:0,error:0},c.on("change.bjui.upload",".bjui-upload-select-file",function(a){b.fileSelect(a)}).on("click.bjui.upload",".bjui-upload-select",function(){b.$file.trigger("click")}),d.onInit&&d.onInit(),d.dragDrop&&(c[0].ondragover=function(a){return a.preventDefault(),!0},c[0].ondrop=function(a){b.fileSelect(a),a.stopPropagation(),a.preventDefault()})),void 0):(c.alertmsg("error",d.warn||FRAG.alertPlhMsg.replace("#plhmsg#",BJUI.regional.plhmsg)),BJUI.debug("Upload Plugin: The options uploader is incorrect: "+d.uploader),void 0)):(BJUI.debug("Upload Plugin: The options uploader is undefined!"),void 0)},b.prototype.fileSelect=function(a){this.$uploadFileList.show(),this.tools.getFiles(a)},b.prototype.fileUpload=function(b,c){var d=this,e=d.$element,f=d.options,g=d.tools,h=!1,i=b;h=new XMLHttpRequest,f.breakPoints&&(b=i.slice(c,c+f.fileSplitSize)),h.upload&&(h.upload.onprogress=function(a){d.onProgress(b,a.loaded,i.size)},h.onreadystatechange=function(){if(4==h.readyState&&200==h.status){var j=(JSON.parse(h.responseText),!1);f.breakPoints?(c+=f.fileSplitSize,g.saveUploadedSize(i.id,c),c<i.size?(b=i.slice(c,c+f.fileSplitSize),g.sendBlob(f.uploader,h,b,f.formData)):j=!0):j=!0,j&&(d.queueData.success++,g.successQueueItem(i,h),f.onUploadComplete&&f.onUploadComplete(i,h.responseText))}else d.queueData.error++,f.onUploadError&&f.onUploadError(i,h.responseText);f.onQueueComplete&&(d.queueData.files=d.queueData.success+d.queueData.error)&&option.onQueueComplete(d.queueData)},f.onUploadStart&&f.onUploadStart(),f.formData.fileName=i.name,f.formData.lastModifiedDate=i.lastModifiedDate.getTime(),g.sendBlob(f.uploader,h,b,f.formData)),e.find("#"+i.id+" > .info > .up_pause").on("click.bjui.upload.pause",function(){h.abort(),a(this).hide().prev().show()}),e.find("#"+i.id+" > .info > .up_cancel").off("click.bjui.upload.cancel").on("click.bjui.upload.cancel",a.proxy(function(a){this.tools.removeQueueItem(a,h)},this))},b.prototype.onProgress=function(a,b,c){var i,j,k,l,d=this,e=d.options,f=d.$element.find("#"+a.id+" .progress"),g=b,h=f.attr("lastLoaded")||0;b-=parseInt(h),b>a.size&&(b=a.size),d.$progressBar=f.children(".bar"),i=e.breakPoints?parseFloat(d.$progressBar.get(0).style.width||0):0,j=(100*(b/c)+i).toFixed(2),k=j>100?"100%":j+"%",e.showUploadedSize&&(l=f.nextAll(".filesize"),l.find("> .uploadedsize").text(d.tools.formatFileSize(b))),e.showUploadedPercent&&f.nextAll(".up_percent").text(k),d.$progressBar.css("width",k),g<e.fileSplitSize?f.attr("lastLoaded",g):f.removeAttr("lastLoaded")},b.prototype.destroy=function(){},d=a.fn.upload,a.fn.upload=c,a.fn.upload.Constructor=b,a.fn.upload.noConflict=function(){return a.fn.upload=d,this},a(document).on(BJUI.eventType.initUI,function(b){var d=a(b.target).find('[data-toggle="upload"]');d.length&&c.call(d)})}(jQuery);
/**
 * B-JUI: bjui-theme.js  v1.2
 * @author K'naan (xknaan@163.com)
 * http://git.oschina.net/xknaan/B-JUI/blob/master/BJUI/js/bjui-theme.js
 */
+function(a){"use strict";function e(b){var c=arguments,e=b;return this.each(function(){var f=a(this),g=a.extend({},d.DEFAULTS,f.data(),"object"==typeof b&&b),h=f.data("bjui.theme");h||f.data("bjui.theme",h=new d(this,g)),"string"==typeof e&&a.isFunction(h[e])?([].shift.apply(c),c?h[e].apply(h,c):h[e]()):h.init()})}var b,c,d,f;a(function(){var d=function(){var d,e;b=a("#bjui-link-theme"),c=a("#bjui-themes"),a.cookie&&(d=a.cookie("bjui_theme")||"blue",e=c.find("a.theme_"+d),e.theme({}))};d()}),d=function(b,c){this.$element=a(b),this.options=c},d.DEFAULTS={theme:"purple"},d.prototype.init=function(){var a,d,e;b.length&&(a=b.attr("href"),a=a.substring(0,a.lastIndexOf("/")),a=a.substring(0,a.lastIndexOf("/")),a+="/"+this.options.theme+"/core.css",b.attr("href",a),d=this.$element.closest("ul").prev(),e=d.attr("class"),e=e.replace(/(theme[\s][a-z]*)/g,""),d.removeClass().addClass(e).addClass("theme").addClass(this.options.theme),c.find("li").removeClass("active"),this.$element.parent().addClass("active"),this.cookie())},d.prototype.setTheme=function(a){c.find("a.theme_"+a).trigger("click")},d.prototype.cookie=function(){var b=this.options.theme;a.cookie&&a.cookie("bjui_theme",b,{path:"/",expires:30})},f=a.fn.theme,a.fn.theme=e,a.fn.theme.Constructor=d,a.fn.theme.noConflict=function(){return a.fn.theme=f,this},a(document).on("click.bjui.theme.data-api",'[data-toggle="theme"]',function(b){e.call(a(this)),b.preventDefault()})}(jQuery);
/**
 * B-JUI: bjui-initui.js  v1.2
 * @author K'naan (xknaan@163.com)
 * http://git.oschina.net/xknaan/B-JUI/blob/master/BJUI/js/bjui-initui.js
 */
+function(a){"use strict";function c(c){var d=arguments,e=c;return this.each(function(){var f=a(this),g=a.extend({},b.DEFAULTS,f.data(),"object"==typeof c&&c),h=f.data("bjui.initui");h||f.data("bjui.initui",h=new b(this,g)),"string"==typeof e&&a.isFunction(h[e])?([].shift.apply(d),d?h[e].apply(h,d):h[e]()):h.init()})}var d,e,f,b=function(b,c){this.$element=a(b),this.options=c};b.DEFAULTS={},b.prototype.init=function(){var b=this,c=b.$element;a.when(b.initUI()).done(function(){c.trigger(BJUI.eventType.afterInitUI)})},b.prototype.initUI=function(){var b=this.$element;a.when(b.trigger(BJUI.eventType.beforeInitUI)).done(function(){b.trigger(BJUI.eventType.initUI)})},d=a.fn.initui,a.fn.initui=c,a.fn.initui.Constructor=b,a.fn.initui.noConflict=function(){return a.fn.initui=d,this},a(document).on("click.bjui.initui.data-api",'[data-toggle="initui"]',function(a){c.call($this,$this.data()),a.preventDefault()}),a(document).on(BJUI.eventType.beforeInitUI,function(b){var c=a(b.target),d=[],e=c.find("[data-noinit]");c.find("> .bjui-maskProgress").find(".progress").stop().animate({width:"85%"},"fast"),e.each(function(){var c=a(this),e={};e.$target=c,e.$next=c.next(),e.$prev=c.prev(),e.$parent=c.parent(),e.visible=c.is(":visible")?!0:!1,d.push(e),c.remove()}),c.data("bjui.noinit",d)}),a(document).on(BJUI.eventType.initUI,function(b){var c=a(b.target);c.find("> .bjui-maskProgress").find(".progress").stop().animate({width:"95%"},"fast")}),a(document).on(BJUI.eventType.afterInitUI,function(b){var c=a(b.target),d=c.data("bjui.noinit"),e=c.find("> .bjui-pageContent").find("form");d&&a.each(d,function(a,b){b.$next.length?b.$next.before(b.$target):b.$prev.length?b.$prev.after(b.$target):b.$parent.length&&b.$parent.append(b.$target),b.visible&&b.$target.show(),c.removeData("bjui.noinit")}),c.resizePageH(),e.length&&c.find("> .bjui-pageFooter").find(":submit").on("click.bjui.submit",function(a){a.preventDefault(),e.submit()}),c.find(".bjui-maskProgress").find(".progress").stop().animate({width:"100%"},"fast",function(){c.find(".bjui-ajax-mask").fadeOut("normal",function(){a(this).remove()})})}),a(document).one(BJUI.eventType.afterInitUI,function(){var c=a("#bjui-hnav-navbar"),d=c.find("> li.active");d.length&&d.find("> .items").length&&d.find("> a").trigger("click")}),e=function(b){var f,g,h,c=b,d=c,e=c.css("position");return"static"==e&&(d=c.offsetParent()),f=parseInt(d.css("zIndex"))||0,g=c.find("> .bjui-maskBackground"),h=c.find("> .bjui-maskProgress"),g.length||(g=a(FRAG.maskBackground),h=a(FRAG.maskProgress.replace("#msg#",BJUI.regional.progressmsg)),c.prepend(g).prepend(h)),parseInt(g.css("zIndex"))||0,parseInt(h.css("zIndex"))||0,g.css("zIndex",f+1),h.css("zIndex",f+2),{$bg:g,$pr:h}},a(document).on("bjui.ajaxStart",function(b,c,d){var f=e(a(b.target));f.$bg.fadeIn(),f.$pr.fadeIn(),f.$pr.find(".progress").animate({width:"80%"},c||500),d&&setTimeout(function(){d.toFunc().call(this)},25)}).on("bjui.ajaxStop",function(b){var c=e(a(b.target));c.$pr.find(".progress").animate({width:"100%"},"fast",function(){c.$bg.remove(),c.$pr.remove()})}).on("bjui.ajaxError",function(b){var c=e(a(b.target));c.$bg.remove(),c.$pr.remove()}),a(document).on(BJUI.eventType.ajaxStatus,function(b){var c=a(b.target),d=e(c);c.one("ajaxStart",function(){d.$bg.fadeIn(),d.$pr.fadeIn(),d.$pr.find(".progress").animate({width:"10%"},"fast")}).one("ajaxStop",function(){}).one("ajaxError",function(){d.$bg.remove(),d.$pr.remove()})}),f=function(a){a.find('select[data-toggle="selectpicker"]').selectpicker("destroyMenu"),a.find('[data-toggle="selectztree"]').trigger("destroy.bjui.selectztree")},a(document).on(BJUI.eventType.beforeLoadDialog,function(){}).on(BJUI.eventType.beforeAjaxLoad,function(b){f(a(b.target))}).on(BJUI.eventType.beforeCloseNavtab,function(b){f(a(b.target))}).on(BJUI.eventType.beforeCloseDialog,function(b){f(a(b.target))}),a(function(){a(document).on("keydown keyup",function(a){a.which===BJUI.keyCode.CTRL&&(BJUI.KeyPressed.ctrl="keydown"==a.type?!0:!1),a.which===BJUI.keyCode.SHIFT&&(BJUI.KeyPressed.shift="keydown"==a.type?!0:!1)})})}(jQuery);
/**
 * B-JUI: bjui-plugins.js  v1.2
 * @author K'naan (xknaan@163.com)
 * http://git.oschina.net/xknaan/B-JUI/blob/master/BJUI/js/bjui-plugins.js
 */
+function(a){"use strict";a(document).on(BJUI.eventType.initUI,function(b){var e,f,g,h,i,c=a(b.target),d=c.find('[data-toggle="icheck"]');d.each(function(){var c=a(this),d=c.attr("id"),e=c.attr("name"),f=c.data("label");f&&c.after('<label for="'+d+'" class="ilabel">'+f+"</label>"),c.on("ifCreated",function(){var c=a(this).closest("div"),f=c.next('[for="'+d+'"]');c.attr("data-icheck",e),f.attr("data-icheck",e)}).iCheck({checkboxClass:"icheckbox_minimal-purple",radioClass:"iradio_minimal-purple",increaseArea:"20%"}).on("ifChanged",function(){a(this).trigger("validate")}),c.prop("disabled")&&c.iCheck("disable")}),d.filter(".checkboxCtrl").on("ifChanged",function(b){var d=1==b.target.checked?"check":"uncheck",e=a(this).data("group");c.find(':checkbox[name="'+e+'"]').iCheck(d)}),c.find(":text, :password, textarea, :button, a.btn").each(function(){var d,f,g,h,i,j,b=a(this),c=b.closest("table.bjui-tabledit");if((b.is(":text")||b.is(":password")||b.isTag("textarea"))&&!b.hasClass("form-control")&&b.addClass("form-control"),b.is(":button")&&(d=b.data("icon"),b.data("large"),f=b.attr("class"),b.hasClass("btn")||b.removeClass().addClass("btn").addClass(f),d&&(g="fa-"+d.replace("fa-",""),b.data("bjui.icon")||b.html('<i class="fa '+g+'"></i> '+b.html()).data("bjui.icon",!0))),b.isTag("a")&&(d=b.data("icon"),b.data("large"),d&&(g="fa-"+d.replace("fa-",""),b.data("bjui.icon")||b.html('<i class="fa '+g+'"></i> '+b.html()).data("bjui.icon",!0))),b.isTag("textarea")&&(h=b.data("toggle"),h&&"autoheight"==h&&a.fn.autosize&&b.addClass("autosize").autosize()),!c.length){if(i=b.attr("size")||b.attr("cols"),j=10*i,!i)return;j&&b.css("width",j)}}),c.find('form[data-toggle="validate"]').each(function(){var b=a(this),c="undefined"==typeof b.data("alertmsg")?!0:b.data("alertmsg");a(this).validator({valid:function(b){a(b).bjuiajax("ajaxForm",a(b).data())},validClass:"ok",theme:"red_right_effect"}).on("invalid.form",function(b,d,e){c&&a(d).alertmsg("error",FRAG.validateErrorMsg.replace("#validatemsg#",BJUI.regional.validatemsg).replaceMsg(e.length))})}),c.find('[data-toggle="moresearch"]').each(function(){var b=a(this),c=b.closest(".bjui-pageHeader"),d=c&&c.find(".bjui-moreSearch"),e=b.data("name");b.attr("title")||b.attr("title","更多查询条件"),b.click(function(f){return d.length?(d.css("top",c.outerHeight()-1),d.is(":visible")?(b.html('<i class="fa fa-angle-double-down"></i>'),e&&a("body").data("moresearch."+e,!1)):(b.html('<i class="fa fa-angle-double-up"></i>'),e&&a("body").data("moresearch."+e,!0)),d.fadeToggle("slow","linear"),f.preventDefault(),void 0):(BJUI.debug("Not created 'moresearch' box[class=\"bjui-moreSearch\"]!"),void 0)}),e&&a("body").data("moresearch."+e)&&(d.css("top",c.outerHeight()-1).fadeIn(),b.html('<i class="fa fa-angle-double-up"></i>'))}),e=c.find('select[data-toggle="selectpicker"]'),f=function(b,c){var f,g,d=b.data("refurl"),e=function(b){var d,c=a(b.data("nextselect"));c&&c.length&&(d=c.data("emptytxt")||"&nbsp;",c.html("<option>"+d+"</option>").selectpicker("refresh"),e(c))};c&&c.length&&d&&(f=b.data("val"),g=c.data("val"),"undefined"==typeof f&&(f=b.val()),a.ajax({type:"POST",dataType:"json",url:d.replace("{value}",encodeURIComponent(f)),cache:!1,data:{},success:function(d){if(d){var f="",h="";a.each(d,function(a){var b,c;d[a]&&d[a].length?(b=d[a][0],c=d[a][1]):(b=d[a].value,c=d[a].label),"undefined"!=typeof g&&(h=b==g?" selected":""),f+='<option value="'+b+'"'+h+">"+c+"</option>"}),b.removeAttr("data-val").removeData("val"),c.removeAttr("data-val").removeData("val"),f||(f=c.data("emptytxt")||"&nbsp;",f="<option>"+f+"</option>"),c.html(f).selectpicker("refresh"),e(c)}},error:BJUI.ajaxError}))},e.each(function(){var b=a(this),c=b.data(),d=a(c.nextselect);b.addClass("show-tick"),c.style||b.data("style","btn-default"),c.width||b.data("width","auto"),c.container?1==c.container&&b.attr("data-container","false").data("container",!1):b.data("container","body"),b.selectpicker(),d&&d.length&&"undefined"!=typeof d.data("val")&&f(b,d)}),e.change(function(){var b=a(this),c=a(b.data("nextselect"));f(b,c),b.attr("aria-required")&&b.trigger("validate")}),c.find('[data-toggle="ztree"]').each(function(){function i(b,d,e){if(e.faicon){var f=a("#"+e.tId+"_a");f.data("faicon")||f.data("faicon",!0).addClass("faicon").find("> span.button").append('<i class="fa fa-'+e.faicon+'"></i>')}c.onNodeCreated&&c.onNodeCreated.toFunc().call(this,b,d,e)}function j(b,d,e){e.faiconClose&&a("#"+e.tId+"_ico").find("> i").attr("class","fa fa-"+e.faiconClose),console.log("11"),c.onCollapse&&c.onCollapse.toFunc().call(this,b,d,e)}function k(b,d,e){e.faicon&&e.faiconClose&&a("#"+e.tId+"_ico").find("> i").attr("class","fa fa-"+e.faicon),c.onExpand&&c.onExpand.toFunc().call(this,b,d,e)}function l(b,d){var e=d.level,f=a("#"+d.tId+g),i=a("#diyBtn_add_"+d.id),j=a("#diyBtn_del_"+d.id);i.length||e<c.maxAddLevel&&(i=a('<span class="tree_add" id="diyBtn_add_'+d.id+'" title="添加"></span>'),i.appendTo(f),i.on("click",function(){h.addNodes(d,{name:"新增Item"})})),j.length||(j=a('<span class="tree_del" id="diyBtn_del_'+d.id+'" title="删除"></span>'),j.appendTo(f).on("click",function(a){var f,g,e=function(){j.alertmsg("confirm","确认要删除 "+d.name+" 吗？",{okCall:function(){if(h.removeNode(d),c.onRemove){var e=c.onRemove.toFunc();e&&e.call(this,a,b,d)}},cancelCall:function(){}})};c.beforeRemove?(f=c.beforeRemove.toFunc(),f&&(g=f.call(f,b,d),g&&1==g&&e())):e()}))}function m(b,c){var d=a("#diyBtn_add_"+c.id),e=a("#diyBtn_del_"+c.id);d&&d.length&&d.off("click").remove(),e&&e.length&&e.off("click").remove()}function n(a,b){for(var c=0;c<b.length;c++)if(b[c].drag===!1)return!1;return!0}function o(a,b,c){return c?c.drop!==!1:!0}var e,f,g,h,b=a(this),c=b.data(),d=c.options;d&&"string"==typeof d&&(d=d.toObj()),d&&a.extend(c,"object"==typeof d&&d),e=c.setting,c.nodes?("string"==typeof c.nodes&&(c.nodes=c.nodes.trim().startsWith("[")||c.nodes.trim().startsWith("{")?c.nodes.toObj():c.nodes.toFunc()),"function"==typeof c.nodes&&(c.nodes=c.nodes.call(this)),b.removeAttr("data-nodes")):(c.nodes=[],b.find("> li").each(function(){var b=a(this),d=b.data();d.pid&&(d.pId=d.pid),d.name=b.html(),c.nodes.push(d)}),b.empty()),c.showRemoveBtn||(c.showRemoveBtn=!1),c.showRenameBtn||(c.showRenameBtn=!1),c.addHoverDom&&"function"!=typeof c.addHoverDom&&(c.addHoverDom="edit"==c.addHoverDom?l:c.addHoverDom.toFunc()),c.removeHoverDom&&"function"!=typeof c.removeHoverDom&&(c.removeHoverDom="edit"==c.removeHoverDom?m:c.removeHoverDom.toFunc()),c.maxAddLevel||(c.maxAddLevel=2),f={view:{addHoverDom:c.addHoverDom||null,removeHoverDom:c.removeHoverDom||null,addDiyDom:c.addDiyDom?c.addDiyDom.toFunc():null},edit:{enable:c.editEnable,showRemoveBtn:c.showRemoveBtn,showRenameBtn:c.showRenameBtn},check:{enable:c.checkEnable,chkStyle:c.chkStyle,radioType:c.radioType},callback:{onClick:c.onClick?c.onClick.toFunc():null,beforeDrag:c.beforeDrag?c.beforeDrag.toFunc():n,beforeDrop:c.beforeDrop?c.beforeDrop.toFunc():o,onDrop:c.onDrop?c.onDrop.toFunc():null,onCheck:c.onCheck?c.onCheck.toFunc():null,beforeRemove:c.beforeRemove?c.beforeRemove.toFunc():null,onRemove:c.onRemove?c.onRemove.toFunc():null,onNodeCreated:i,onCollapse:j,onExpand:k},data:{simpleData:{enable:c.simpleData||!0},key:{title:c.title||""}}},e&&"string"==typeof e&&(e=e.toObj()),e&&a.extend(!0,f,"object"==typeof e&&e),a.fn.zTree.init(b,f,c.nodes),g="_a",h=a.fn.zTree.getZTreeObj(b.attr("id")),c.expandAll&&h.expandAll(!0)}),g=c.find('[data-toggle="selectztree"]'),g.each(function(){var g,h,i,j,b=a(this),c=b.data(),d=a(c.tree),f=(parseFloat(b.css("width")),b.outerHeight());c.width=c.width||b.outerWidth(),c.height=c.height||"auto",d&&d.length&&(g=d.attr("id"),h=a("#"+g+"_select_box"),i=function(e){var k,l,g=b.offset().top,h=b.offset().left,i=d.clone().appendTo(a("body")),j=i.outerHeight();i.remove(),k=a(window).height()-j-g-f,l=a(window).height()-g-f,"auto"==c.height&&0>k&&(l+=k),e.css({top:g+f,left:h,"max-height":l})},b.click(function(){var e,f;return h&&h.length?(i(h),h.show(),void 0):(e=2,f=a.CurrentDialog,f&&f.length&&(e=f.css("zIndex")+1),h=a('<div id="'+g+'_select_box" class="tree-box"></div>').css({position:"absolute",zIndex:e,"min-width":c.width,height:c.height,overflow:"auto",background:"#FAFAFA",border:"1px #EEE solid"}).hide().appendTo(a("body")),d.appendTo(h).css("width","100%").data("fromObj",b).removeClass("hide").show(),i(h),h.show(),void 0)}),a("body").on("mousedown",function(c){var d=a(c.target);b[0]==c.target||h&&h.length>0&&d.closest(".tree-box").length>0||h.hide()}),j=b.closest(".bjui-pageContent"),j&&j.length&&j.scroll(function(){h&&h.length&&i(h)}),b.on("destroy.bjui.selectztree",function(){h.remove()}))}),c.find('[data-toggle="accordion"]').each(function(){var b=a(this),c=b.data("heightbox"),d=b.data("height"),e=function(c,d){var e=b.data("offsety")||0,d=d||a(c).outerHeight()-1*e,f=b.find(".panel-heading"),g=f.outerHeight();g=(g+1)*f.length,b.css("height",d),d-=g,b.find(".panel-collapse").find(".panel-body").css("height",d)};b.find("> .panel").length&&(c||d)&&(e(c,d),a(window).resize(function(){e(c,d)}),b.on("hidden.bs.collapse",function(){var c=a(this).find("> .panel:last"),d=c.find("> .panel-heading > h4 > a");d.hasClass("collapsed")&&c.css("border-bottom","1px #ddd solid")}))}),c.find('[data-toggle="kindeditor"]').each(function(){var d,b=a(this),c=b.data();c.items&&"string"==typeof c.items&&(c.items=c.items.replaceAll("'","").replaceAll(" ","").split(",")),c.afterUpload&&(c.afterUpload=c.afterUpload.toFunc()),c.afterSelectFile&&(c.afterSelectFile=c.afterSelectFile.toFunc()),c.confirmSelect&&(c.confirmSelect=c.confirmSelect.toFunc()),d={font:[],span:[".color",".background-color",".font-size",".font-family"],div:[".margin",".padding",".text-align"],table:["align","width"],"td,th":["align","valign","width","height","colspan","rowspan"],a:["href","target","name"],embed:["src","width","height","type","loop","autostart","quality",".width",".height","align","allowscriptaccess"],img:["src","width","height","border","alt","title","align",".width",".height",".border"],"p,ol,ul,li,blockquote,h1,h2,h3,h4,h5,h6":["class","align",".text-align",".color",".font-weight",".font-style",".text-decoration",".vertical-align",".text-indent",".margin-left"],pre:["class"],hr:["class",".page-break-after"],"br,tbody,tr,strong,b,sub,sup,em,i,u,strike,s,del":[]},KindEditor.create(b,{pasteType:c.pasteType,minHeight:c.minHeight||260,autoHeightMode:c.autoHeight||!1,items:c.items||KindEditor.options.items,uploadJson:c.uploadJson,fileManagerJson:c.fileManagerJson,allowFileManager:c.allowFileManager||!0,fillDescAfterUploadImage:c.fillDescAfterUploadImage||!0,afterUpload:c.afterUpload,afterSelectFile:c.afterSelectFile,X_afterSelect:c.confirmSelect,htmlTags:d,cssPath:[BJUI.PLUGINPATH+"kindeditor_4.1.10/editor-content.css",BJUI.PLUGINPATH+"kindeditor_4.1.10/plugins/code/prettify.css"],afterBlur:function(){this.sync()}})}),c.find('[data-toggle="colorpicker"]').each(function(){var b=a(this),c=b.data("bgcolor");b.colorpicker(),c&&b.on("changeColor",function(a){b.css("background-color",a.color.toHex())})}),c.find('[data-toggle="clearcolor"]').each(function(){var b=a(this),c=b.data("target")?a(b.data("target")):null;c&&c.length&&b.click(function(){c.val(""),c.data("bgcolor")&&c.css("background-color","")})}),c.find('[data-toggle="tooltip"]').each(function(){a(this).tooltip()}),c.find('[data-toggle="dropdown"]').parent().on("show.bs.dropdown",function(){var c=a(this),d=c.outerWidth(),e=c.find("> .dropdown-menu"),f=e.outerWidth();d>f&&e.css("min-width",d)}),c.find('form[data-toggle="ajaxform"]').each(function(){a(this).validator({ignore:":input"}),a(this).validator("destroy")}),h=c.find('[data-toggle="highcharts"]'),h.each(function(){var b=a(this),c=b.data();a.get(c.url,function(a){b.highcharts(a)},"json")}),i=c.find('[data-toggle="echarts"]'),i.each(function(){var b=a(this),c=b.data(),d=c.theme?c.theme:"default",e=c.type.split(",");require.config({paths:{echarts:BJUI.PLUGINPATH+"echarts"}}),require(["echarts","echarts/theme/"+d,"echarts/chart/"+e[0],e[1]?"echarts/chart/"+e[1]:"echarts"],function(d,e){var f=d.init(b[0],e);a.get(c.url,function(a){f.setOption(a)},"json")})})})}(jQuery);

